## 大数据云原生化

### 为什么大数据要云原生化
先看大数据有哪些痛点：
  - 非标准化封装，导致运维效率低，交付周期长。
  - 隔离性。导致资源效率低。
  - 社区发展慢。对比云原生领域，整个云原生领域产品矩阵不断扩大。


容器实际上已经是算力的标准化交付形式。大数据云原生化后，可以充分和在线服务并池，进而有更大的资源弹性，通过在离线混部等技术大幅度降低成本。

依靠云原生繁荣的社区，复用云原生能力，比如构建，监控，基础设施。








### 阶段

应用模型的抽象，关注点分离：组件到服务的整体打包和描述。
调度的统一。
弹性增强。


第一阶段：容器化。

大数据的组件容器化部署，关键技术动作：dockerfile，yaml，statefulset， svc。

特点：没有应用抽象模型。研发同学需要单独管理每一个组件并且需要对k8s达到非常了解的程度。此时主要是通过容器标准化的封装，为了提升大数据运维效率。

第二阶段：operator化。

大数据产品抽象了面向用户的CRD，通过专有的operator，申明式地自动管理一个大数据服务（包含了多个组件，比如 ps 和 worker）。


第三阶段：云原生化。

大数据资深引擎，调度器从 yarn 到 k8s 调度器。进而可以大规模并池，通过在离线混部和调度等技术在成本上拿到收益。

弹性能力增强，感知负载，改变实例数目，按需使用资源。

降低对本地数据盘的依赖。比如spark中的remote shuffle。



第四阶段：serverless化。 

关键技术动作：存算分离架构，对象数据加速，计算池化，存储池化，计算和数据协调调度，存储单元的云原生管理。-》k8s 成为一个计算和数据的操作系统。



### 如何做大数据（基础组件）的云原生化？


平台工程：

基于OAM，做大数据产品应用维度的抽象和标准化，实现基础设施和应用层面的关注分离。 集成和抽象所有的混合云架构的基础设施（监控，网关，流量，数据）的能力，以申明式方式交付。每种能力就是一种插件。


核心的3点：面向研发的Componen（包含主工作负载加依赖中间件）， 面向运维的Trait（灰度，监控，流量策略），面向变更的工作流步骤（Workflow Step）。

最后实现一个面向混合云的高效的标准化的交付平台。




拓展k8s对于数据管理的能力，实现计算和数据的协同调度。


















